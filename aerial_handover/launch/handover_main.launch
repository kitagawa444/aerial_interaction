<launch>

    <!-- DRAGON / Gazebo のモード切り替え -->
    <!-- 今はシミュレーションだけ使うので rm のデフォルトは False にしておく -->
    <arg name="rm" default="False" />
    <arg name="sim" default="True" />
    <!-- Gazebo の GUI を出すかどうか -->
    <arg name="headless" default="False" />
    <!-- 手の位置のソース：marker or mocap -->
    <arg name="hand_source" default="marker" />
    <!-- safe distance from human center to the robot's root link (meters) -->
    <arg name="safe_distance" default="0.8" />
    <arg name="num_arc_waypoints" default="10" />
    <!-- =====================================
       DRAGON + Gazebo + 目・手モデル (task)
       ===================================== -->
    <include file="$(find aerial_handover)/launch/task.launch">
        <arg name="rm" value="$(arg rm)" />
        <arg name="sim" value="$(arg sim)" />
        <arg name="headless" value="$(arg headless)" />
        <arg name="hand_source" value="$(arg hand_source)" />
    </include>

    <node pkg="aerial_handover" type="pose_transformer.py" name="pose_transformer" output="screen">
        <param name="handover_dis_x" value="0.4" />
        <param name="handover_dis_z" value="0.1" />
        <param name="handover_pitch" value="0.0" />
        <remap from="/desired_3D_pose" to="/hand_pose" />
    </node>

    <node pkg="aerial_handover" type="dragon_handover_nav.py" name="dragon_handover_nav" output="screen">
        <param name="safe_distance" value="$(arg safe_distance)" />
        <param name="num_arc_waypoints" value="$(arg num_arc_waypoints)" />
    </node>

</launch>
