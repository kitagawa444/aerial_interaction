<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from v1_5_202601.urdf.xacro         | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="dragon">
  <!--  model type 1: head-->
  <!--  model type 2: baselink (attached with imu, pc)-->
  <!--  model type 3: general -->
  <!--  model type 4: end -->
  <!-- general attribute -->
  <baselink name="fc"/>
  <thrust_link name="thrust"/>
  <!-- dynamics -->
  <m_f_rate value="0"/>
  <!-- [N] -->
  <!-- link without battery -->
  <link name="link1">
    <inertial>
      <origin rpy="0 0 0" xyz="0.3315 -0.0158  -0.0012"/>
      <mass value="0.3231"/>
      <inertia ixx="0.0003" ixy="-0.0005" ixz="0.0002" iyy="0.0073" iyz="0.0000" izz=" 0.0074"/>
    </inertial>
    <!-- box collision geometry does not work well for FCL -->
    <collision>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <box size="0.474 0.15 0.1686"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/head_link.stl"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="link1">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <!-- gimbal roll -->
  <joint name="gimbal1_roll" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="link1"/>
    <child link="gimbal1_roll_module"/>
    <origin rpy="0 0 0" xyz="0.237 0 0"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal1_roll_module">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027399999999999997 0.0009 0.0265"/>
      <mass value="0.3337"/>
      <inertia ixx="0.0004" ixy="0.0000" ixz="-0.0001" iyy="0.0005" iyz="0.0000" izz="0.0002"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.0065 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_roll.stl"/>
      </geometry>
    </visual>
    <!-- cylinder collision geometry works well for FCL -->
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.02"/>
      <geometry>
        <cylinder length="0.3" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <!-- gimbal pitch -->
  <joint name="gimbal1_pitch" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="gimbal1_roll_module"/>
    <child link="gimbal1_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0 0.0265"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal1_pitch_module">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0000 -0.0001 -0.0010"/>
      <mass value="0.3455"/>
      <inertia ixx="0.0047" ixy="0.0000" ixz="0.0000" iyy="0.0003" iyz="0.0000" izz="0.0049"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_pitch.stl"/>
      </geometry>
    </visual>
  </link>
  <!-- rotor -->
  <joint name="rotor1" type="continuous">
    <limit effort="100.0" lower="2" upper="30" velocity="0.5"/>
    <parent link="gimbal1_pitch_module"/>
    <child link="thrust1"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="thrust1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0001"/>
      <inertia ixx="0.00001" ixy="0.0" ixz="0.0" iyy="0.00001" iyz="0.0" izz="0.00002"/>
    </inertial>
  </link>
  <!-- special part of duct fun -->
  <joint name="edf1_left_mount" type="fixed">
    <child link="edf1_left"/>
    <parent link="gimbal1_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf1_left">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <joint name="edf1_right_mount" type="fixed">
    <child link="edf1_right"/>
    <parent link="gimbal1_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 -0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf1_right">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <gazebo reference="thrust1">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <joint name="joint1_pitch" type="revolute">
    <limit effort="10.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="0.1"/>
    <parent link="link1"/>
    <child link="inter_joint1"/>
    <origin rpy="0 0 0" xyz="0.474 0 0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.9" friction="0.05"/>
  </joint>
  <!-- inter joint -->
  <link name="inter_joint1">
    <!-- common inertial -->
    <inertial>
      <origin rpy="0 0 0" xyz="0.02855 -0.0044 -0.0008"/>
      <mass value="0.1219"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0001" iyz="0.0000" izz="0.0001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.02575 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/inter_joint_junction.stl"/>
      </geometry>
    </visual>
  </link>
  <joint name="joint1_yaw" type="revolute">
    <limit effort="10.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="0.1"/>
    <parent link="inter_joint1"/>
    <child link="link2"/>
    <origin rpy="0 0 0" xyz="0.0515 0 0"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.9" friction="0.05"/>
  </joint>
  <gazebo reference="inter_joint1">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- dummy root link for KDL -->
  <link name="root">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <joint name="root_joint" type="fixed">
    <parent link="root"/>
    <child link="link1"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="link12battery1" type="fixed">
    <parent link="link1"/>
    <child link="battery1"/>
    <origin rpy="0 0 0" xyz="0.1023 0.0 -0.048"/>
  </joint>
  <link name="battery1">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.446"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0007" iyz="0.0000" izz="0.0007"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/battery.stl" scale="1 1 1"/>
      </geometry>
    </visual>
  </link>
  <transmission name="joint1_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint1_pitch">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_servo{self}_pitch">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="joint1_yaw_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint1_yaw">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_servo{self}_yaw">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal1_roll_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal1_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal1_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal1_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="rotor1_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rotor1">
      <hardwareInterface>RotorInterface</hardwareInterface>
    </joint>
    <actuator name="rotor1">
      <hardwareInterface>RotorInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="link1">
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <!-- link without battery -->
  <link name="link2">
    <inertial>
      <origin rpy="0 0 0" xyz="0.2625 -0.0086 0.0061"/>
      <mass value="0.6358"/>
      <inertia ixx="0.0007" ixy="-0.0009" ixz="-0.0013" iyy="0.0195" iyz="0.0000" izz="0.0190"/>
    </inertial>
    <!-- box collision geometry does not work well for FCL -->
    <collision>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <box size="0.474 0.15 0.1686"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/base_link.stl"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="link2">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <!-- gimbal roll -->
  <joint name="gimbal2_roll" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="link2"/>
    <child link="gimbal2_roll_module"/>
    <origin rpy="0 0 0" xyz="0.237 0 0"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal2_roll_module">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027399999999999997 0.0009 0.0265"/>
      <mass value="0.3337"/>
      <inertia ixx="0.0004" ixy="0.0000" ixz="-0.0001" iyy="0.0005" iyz="0.0000" izz="0.0002"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.0065 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_roll.stl"/>
      </geometry>
    </visual>
    <!-- cylinder collision geometry works well for FCL -->
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.02"/>
      <geometry>
        <cylinder length="0.3" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <!-- gimbal pitch -->
  <joint name="gimbal2_pitch" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="gimbal2_roll_module"/>
    <child link="gimbal2_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0 0.0265"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal2_pitch_module">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0000 -0.0001 -0.0010"/>
      <mass value="0.3455"/>
      <inertia ixx="0.0047" ixy="0.0000" ixz="0.0000" iyy="0.0003" iyz="0.0000" izz="0.0049"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_pitch.stl"/>
      </geometry>
    </visual>
  </link>
  <!-- rotor -->
  <joint name="rotor2" type="continuous">
    <limit effort="100.0" lower="2" upper="30" velocity="0.5"/>
    <parent link="gimbal2_pitch_module"/>
    <child link="thrust2"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="thrust2">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0001"/>
      <inertia ixx="0.00001" ixy="0.0" ixz="0.0" iyy="0.00001" iyz="0.0" izz="0.00002"/>
    </inertial>
  </link>
  <!-- special part of duct fun -->
  <joint name="edf2_left_mount" type="fixed">
    <child link="edf2_left"/>
    <parent link="gimbal2_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf2_left">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <joint name="edf2_right_mount" type="fixed">
    <child link="edf2_right"/>
    <parent link="gimbal2_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 -0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf2_right">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <gazebo reference="thrust2">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <joint name="joint2_pitch" type="revolute">
    <limit effort="10.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="0.1"/>
    <parent link="link2"/>
    <child link="inter_joint2"/>
    <origin rpy="0 0 0" xyz="0.474 0 0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.9" friction="0.05"/>
  </joint>
  <!-- inter joint -->
  <link name="inter_joint2">
    <!-- common inertial -->
    <inertial>
      <origin rpy="0 0 0" xyz="0.02855 -0.0044 -0.0008"/>
      <mass value="0.1219"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0001" iyz="0.0000" izz="0.0001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.02575 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/inter_joint_junction.stl"/>
      </geometry>
    </visual>
  </link>
  <joint name="joint2_yaw" type="revolute">
    <limit effort="10.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="0.1"/>
    <parent link="inter_joint2"/>
    <child link="link3"/>
    <origin rpy="0 0 0" xyz="0.0515 0 0"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.9" friction="0.05"/>
  </joint>
  <gazebo reference="inter_joint2">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <link name="fc">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <joint name="fc_joint" type="fixed">
    <child link="fc"/>
    <parent link="link2"/>
    <origin rpy="0 0 0" xyz="0.3245 -0.0010 0.0280"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="link22battery2" type="fixed">
    <parent link="link2"/>
    <child link="battery2"/>
    <origin rpy="0 0 0" xyz="0.1023 0.0 -0.048"/>
  </joint>
  <link name="battery2">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.446"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0007" iyz="0.0000" izz="0.0007"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/battery.stl" scale="1 1 1"/>
      </geometry>
    </visual>
  </link>
  <transmission name="joint2_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint2_pitch">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_servo{self}_pitch">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="joint2_yaw_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint2_yaw">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_servo{self}_yaw">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal2_roll_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal2_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal2_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal2_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="rotor2_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rotor2">
      <hardwareInterface>RotorInterface</hardwareInterface>
    </joint>
    <actuator name="rotor2">
      <hardwareInterface>RotorInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="link2">
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <!-- link without battery -->
  <link name="link3">
    <inertial>
      <origin rpy="0 0 0" xyz="0.2352 -0.0101 0.0105"/>
      <mass value="0.5055"/>
      <inertia ixx="0.0006" ixy="-0.0010" ixz="-0.0010" iyy="0.0171" iyz="0.0001" izz="0.0170"/>
    </inertial>
    <!-- box collision geometry does not work well for FCL -->
    <collision>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <box size="0.474 0.15 0.1686"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/general_link.stl"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="link3">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <!-- gimbal roll -->
  <joint name="gimbal3_roll" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="link3"/>
    <child link="gimbal3_roll_module"/>
    <origin rpy="0 0 0" xyz="0.237 0 0"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal3_roll_module">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027399999999999997 0.0009 0.0265"/>
      <mass value="0.3337"/>
      <inertia ixx="0.0004" ixy="0.0000" ixz="-0.0001" iyy="0.0005" iyz="0.0000" izz="0.0002"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.0065 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_roll.stl"/>
      </geometry>
    </visual>
    <!-- cylinder collision geometry works well for FCL -->
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.02"/>
      <geometry>
        <cylinder length="0.3" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <!-- gimbal pitch -->
  <joint name="gimbal3_pitch" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="gimbal3_roll_module"/>
    <child link="gimbal3_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0 0.0265"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal3_pitch_module">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0000 -0.0001 -0.0010"/>
      <mass value="0.3455"/>
      <inertia ixx="0.0047" ixy="0.0000" ixz="0.0000" iyy="0.0003" iyz="0.0000" izz="0.0049"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_pitch.stl"/>
      </geometry>
    </visual>
  </link>
  <!-- rotor -->
  <joint name="rotor3" type="continuous">
    <limit effort="100.0" lower="2" upper="30" velocity="0.5"/>
    <parent link="gimbal3_pitch_module"/>
    <child link="thrust3"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="thrust3">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0001"/>
      <inertia ixx="0.00001" ixy="0.0" ixz="0.0" iyy="0.00001" iyz="0.0" izz="0.00002"/>
    </inertial>
  </link>
  <!-- special part of duct fun -->
  <joint name="edf3_left_mount" type="fixed">
    <child link="edf3_left"/>
    <parent link="gimbal3_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf3_left">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <joint name="edf3_right_mount" type="fixed">
    <child link="edf3_right"/>
    <parent link="gimbal3_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 -0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf3_right">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <gazebo reference="thrust3">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <joint name="joint3_pitch" type="revolute">
    <limit effort="10.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="0.1"/>
    <parent link="link3"/>
    <child link="inter_joint3"/>
    <origin rpy="0 0 0" xyz="0.474 0 0"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.9" friction="0.05"/>
  </joint>
  <!-- inter joint -->
  <link name="inter_joint3">
    <!-- common inertial -->
    <inertial>
      <origin rpy="0 0 0" xyz="0.02855 -0.0044 -0.0008"/>
      <mass value="0.1219"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0001" iyz="0.0000" izz="0.0001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.02575 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/inter_joint_junction.stl"/>
      </geometry>
    </visual>
  </link>
  <joint name="joint3_yaw" type="revolute">
    <limit effort="10.0" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="0.1"/>
    <parent link="inter_joint3"/>
    <child link="link4"/>
    <origin rpy="0 0 0" xyz="0.0515 0 0"/>
    <axis xyz="0 0 1"/>
    <dynamics damping="0.9" friction="0.05"/>
  </joint>
  <gazebo reference="inter_joint3">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <joint name="link32battery3" type="fixed">
    <parent link="link3"/>
    <child link="battery3"/>
    <origin rpy="0 0 0" xyz="0.1023 0.0 -0.048"/>
  </joint>
  <link name="battery3">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.446"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0007" iyz="0.0000" izz="0.0007"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/battery.stl" scale="1 1 1"/>
      </geometry>
    </visual>
  </link>
  <transmission name="joint3_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint3_pitch">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_servo{self}_pitch">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="joint3_yaw_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint3_yaw">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_servo{self}_yaw">
      <!-- TODO: effort is torque, maybe position is enough -->
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal3_roll_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal3_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal3_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal3_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="rotor3_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rotor3">
      <hardwareInterface>RotorInterface</hardwareInterface>
    </joint>
    <actuator name="rotor3">
      <hardwareInterface>RotorInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="link3">
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <!-- link without battery -->
  <link name="link4">
    <inertial>
      <origin rpy="0 0 0" xyz="0.1437 0.0003  0.0136"/>
      <mass value="0.3543"/>
      <inertia ixx="0.0003" ixy="0.0000" ixz="-0.0006" iyy="0.0078" iyz="0.0000" izz="0.0076"/>
    </inertial>
    <!-- box collision geometry does not work well for FCL -->
    <collision>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <box size="0.474 0.15 0.1686"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0.237 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/end_link.stl"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="link4">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <!-- gimbal roll -->
  <joint name="gimbal4_roll" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="link4"/>
    <child link="gimbal4_roll_module"/>
    <origin rpy="0 0 0" xyz="0.237 0 0"/>
    <axis xyz="1 0 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal4_roll_module">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027399999999999997 0.0009 0.0265"/>
      <mass value="0.3337"/>
      <inertia ixx="0.0004" ixy="0.0000" ixz="-0.0001" iyy="0.0005" iyz="0.0000" izz="0.0002"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.0065 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_roll.stl"/>
      </geometry>
    </visual>
    <!-- cylinder collision geometry works well for FCL -->
    <collision>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.02"/>
      <geometry>
        <cylinder length="0.3" radius="0.09"/>
      </geometry>
    </collision>
  </link>
  <!-- gimbal pitch -->
  <joint name="gimbal4_pitch" type="revolute">
    <limit effort="3" lower="-3.14" upper="3.14" velocity="12.5"/>
    <parent link="gimbal4_roll_module"/>
    <child link="gimbal4_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0 0.0265"/>
    <axis xyz="0 1 0"/>
    <dynamics damping="0.1" friction="0.0"/>
  </joint>
  <link name="gimbal4_pitch_module">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0000 -0.0001 -0.0010"/>
      <mass value="0.3455"/>
      <inertia ixx="0.0047" ixy="0.0000" ixz="0.0000" iyy="0.0003" iyz="0.0000" izz="0.0049"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/gimbal_pitch.stl"/>
      </geometry>
    </visual>
  </link>
  <!-- rotor -->
  <joint name="rotor4" type="continuous">
    <limit effort="100.0" lower="2" upper="30" velocity="0.5"/>
    <parent link="gimbal4_pitch_module"/>
    <child link="thrust4"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="thrust4">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0001"/>
      <inertia ixx="0.00001" ixy="0.0" ixz="0.0" iyy="0.00001" iyz="0.0" izz="0.00002"/>
    </inertial>
  </link>
  <!-- special part of duct fun -->
  <joint name="edf4_left_mount" type="fixed">
    <child link="edf4_left"/>
    <parent link="gimbal4_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf4_left">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <joint name="edf4_right_mount" type="fixed">
    <child link="edf4_right"/>
    <parent link="gimbal4_pitch_module"/>
    <origin rpy="0 0 0" xyz="0 -0.1115 0 "/>
    <axis xyz="0 0 1"/>
  </joint>
  <link name="edf4_right">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.00001"/>
      <inertia ixx="0.000001" ixy="0.0" ixz="0.0" iyy="0.000001" iyz="0.0" izz="0.000002"/>
    </inertial>
  </link>
  <gazebo reference="thrust4">
    <dampingFactor>0.00</dampingFactor>
  </gazebo>
  <joint name="link42battery4" type="fixed">
    <parent link="link4"/>
    <child link="battery4"/>
    <origin rpy="0 0 0" xyz="0.1023 0.0 -0.048"/>
  </joint>
  <link name="battery4">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.446"/>
      <inertia ixx="0.0001" ixy="0.0000" ixz="0.0000" iyy="0.0007" iyz="0.0000" izz="0.0007"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://dragon/urdf/v1_5/mesh/battery.stl" scale="1 1 1"/>
      </geometry>
    </visual>
  </link>
  <transmission name="gimbal4_roll_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal4_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_roll">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gimbal4_pitch_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gimbal4_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="gimbal_servo{self}_pitch">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="rotor4_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rotor4">
      <hardwareInterface>RotorInterface</hardwareInterface>
    </joint>
    <actuator name="rotor4">
      <hardwareInterface>RotorInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="link4">
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <!-- snake gripper attached to link1 tip -->
  <link name="snake">
    <inertial>
      <origin rpy="0 0 0" xyz="0.07109 -0.00071 0.00389"/>
      <mass value="0.3446"/>
      <inertia ixx="5.3493622e-4" ixy="-4.72007e-6" ixz="-9.435527e-5" iyy="1.65858192e-3" iyz="-1.048069e-5" izz="1.65746618e-3"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://snake/urdf/mesh/dragon_snake_link_v2.1.STL"/>
      </geometry>
      <material name="gray">
        <color rgba="0.6 0.6 0.6 1.0"/>
      </material>
    </visual>
  </link>
  <joint name="link1_to_snake" type="fixed">
    <parent link="link1"/>
    <child link="snake"/>
    <origin rpy="0 0 3.14" xyz=" 0 0 0"/>
  </joint>
  <link name="dummy_mouth">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.0001"/>
      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>
    </inertial>
  </link>
  <joint name="dummy_mouth_to_snake" type="fixed">
    <parent link="snake"/>
    <child link="dummy_mouth"/>
    <origin rpy="0 0 0" xyz="0.20 0 0"/>
    <axis xyz="1 0 0"/>
  </joint>
</robot>

